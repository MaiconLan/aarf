<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/core">

<ui:composition template="/template/layout.xhtml">
	<ui:define name="conteudo">

		<h:form id="convenio" styleClass="cadastro-convenio">
			<p:growl id="messages" showDetail="true" autoUpdate="true" />

			<center>
				<h3>Cadastro de Convenio</h3>
			</center>

			<h:panelGrid id="grid" columns="4">
				<p:outputLabel value="Código" for="idConvenio" />
				<p:outputPanel id="gridPesquisa">
					<p:commandButton icon="fa fa-fw fas fa-search" title="Pesquisa"
						action="#{consultaConvenioWebBean.abrirDialogo}" process="@this"
						update="@none">
						<p:ajax event="dialogReturn"
							listener="#{convenioWebBean.convenioSelecionado}" process="@this"
							update="grid" />
					</p:commandButton>

					<p:inputText value="#{convenioWebBean.convenio.idConvenio}"
						id="idConvenio" placeholder="Código" />
				</p:outputPanel>

				<p:outputLabel value="" />
				<p:outputLabel value="" />
				<p:outputLabel value="Descricao" for="descricao" />
				<p:inputText styleClass="input-field col s6" id="descricao"
					placeholder="Descricao"
					value="#{convenioWebBean.convenio.descricao}" required="true"
					requiredMessage="Preenchimento obrigatório" />

			</h:panelGrid>
			<br />
			<p:commandButton value="Salvar" icon="fa fa-fw fa-edit"
				styleClass="waves-effect waves-light btn"
				actionListener="#{convenioWebBean.salvar}" update="@form" />

			<p:commandButton value="Limpar" icon="fa fa-fw fa-refresh"
				actionListener="#{convenioWebBean.initialize()}"
				styleClass="waves-effect waves-light btn" update="convenio"
				process="@this" />
		</h:form>

		<h:form id="modalConvenio">
			<p:dialog modal="true" resizable="false" height="500" width="1000"
				widgetVar="modal-convenio">
				<ui:include src="#{applicationWebBean.securityPath}lista-convenio-include.xhtml" />
			</p:dialog>
		</h:form>

	</ui:define>
</ui:composition>
</html>